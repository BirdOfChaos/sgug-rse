diff -Nur tdnf-3.1.5-orig/CMakeLists.txt tdnf-3.1.5/CMakeLists.txt
--- tdnf-3.1.5-orig/CMakeLists.txt	2021-10-06 18:39:26.000000000 +0000
+++ tdnf-3.1.5/CMakeLists.txt	2021-11-21 21:46:20.081393280 +0000
@@ -29,13 +29,13 @@
 set(CMAKE_RUNTIME_OUTPUT_DIRECTORY ${CMAKE_BINARY_DIR}/bin)
 
 # Ensure that we don't accidentally install into /usr/etc
-set(CMAKE_INSTALL_FULL_SYSCONDIR "/etc")
-set(SYSCONFDIR /etc)
-
-set(MOTGEN_DIR /etc/motdgen.d)
+set(CMAKE_INSTALL_FULL_SYSCONDIR "/usr/sgug/etc")
+set(SYSCONFDIR /usr/sgug/etc)
 
+set(MOTGEN_DIR /usr/sgug/etc/motdgen.d)
+ 
 if(NOT SYSTEMD_DIR)
-    set(SYSTEMD_DIR /lib/systemd/system)
+    set(SYSTEMD_DIR /usr/sgug/lib/systemd/system)
 endif()
 
 
diff -Nur tdnf-3.1.5-orig/CMakeLists.txt.rej tdnf-3.1.5/CMakeLists.txt.rej
--- tdnf-3.1.5-orig/CMakeLists.txt.rej	2021-11-17 20:25:37.163415120 +0000
+++ tdnf-3.1.5/CMakeLists.txt.rej	1969-12-31 19:00:00.000000000 +0000
@@ -1,20 +0,0 @@
---- CMakeLists.txt      2021-10-06 18:39:26.000000000 +0000
-+++ CMakeLists.txt     2021-11-17 20:24:04.261990240 +0000
-@@ -29,13 +29,13 @@
- set(CMAKE_RUNTIME_OUTPUT_DIRECTORY ${CMAKE_BINARY_DIR}/bin)
- 
- # Ensure that we don't accidentally install into /usr/etc
--set(CMAKE_INSTALL_FULL_SYSCONDIR "/etc")
--set(SYSCONFDIR /etc)
-+set(CMAKE_INSTALL_FULL_SYSCONDIR "/usr/sgug/etc")
-+set(SYSCONFDIR /usr/sgug/etc)
- 
--set(MOTGEN_DIR /etc/motdgen.d)
-+set(MOTGEN_DIR /usr/sgug/etc/motdgen.d)
- 
- if(NOT SYSTEMD_DIR)
--    set(SYSTEMD_DIR /lib/systemd/system)
-+    set(SYSTEMD_DIR /usr/sgug/lib/systemd/system)
- 
- 
- 
diff -Nur tdnf-3.1.5-orig/client/defines.h tdnf-3.1.5/client/defines.h
--- tdnf-3.1.5-orig/client/defines.h	2021-10-06 18:39:26.000000000 +0000
+++ tdnf-3.1.5/client/defines.h	2021-11-21 21:46:20.122920800 +0000
@@ -59,7 +59,7 @@
 
 //Repo defines
 #define TDNF_REPO_EXT                     ".repo"
-#define TDNF_CONF_FILE                    "/etc/tdnf/tdnf.conf"
+#define TDNF_CONF_FILE                    "/usr/sgug/etc/tdnf/tdnf.conf"
 #define TDNF_CONF_GROUP                   "main"
 //Conf file key names
 #define TDNF_CONF_KEY_GPGCHECK            "gpgcheck"
@@ -110,10 +110,10 @@
 #define TDNF_REPO_BASEURL_FILE_NAME       "baseurl"
 
 // repo defaults
-#define TDNF_DEFAULT_REPO_LOCATION        "/etc/yum.repos.d"
-#define TDNF_DEFAULT_CACHE_LOCATION       "/var/cache/tdnf"
-#define TDNF_DEFAULT_DISTROVERPKG         "system-release"
-#define TDNF_DEFAULT_DISTROARCHPKG        "x86_64"
+#define TDNF_DEFAULT_REPO_LOCATION        "/usr/sgug/etc/yum.repos.d"
+#define TDNF_DEFAULT_CACHE_LOCATION       "/usr/sgug/var/cache/tdnf"
+#define TDNF_DEFAULT_DISTROVERPKG         "sgugrse-release"
+#define TDNF_DEFAULT_DISTROARCHPKG        "mips"
 #define TDNF_RPM_CACHE_DIR_NAME           "rpms"
 #define TDNF_REPODATA_DIR_NAME            "repodata"
 #define TDNF_SOLVCACHE_DIR_NAME           "solvcache"
@@ -140,7 +140,7 @@
 /* plugin defines */
 #define TDNF_DEFAULT_PLUGINS_ENABLED      0
 #define TDNF_DEFAULT_PLUGIN_PATH          SYSTEM_LIBDIR"/tdnf-plugins"
-#define TDNF_DEFAULT_PLUGIN_CONF_PATH     "/etc/tdnf/pluginconf.d"
+#define TDNF_DEFAULT_PLUGIN_CONF_PATH     "/usr/sgug/etc/tdnf/pluginconf.d"
 #define TDNF_PLUGIN_CONF_EXT              ".conf"
 #define TDNF_PLUGIN_CONF_EXT_LEN          5
 #define TDNF_PLUGIN_CONF_MAIN_SECTION     "main"
diff -Nur tdnf-3.1.5-orig/client/utils.c tdnf-3.1.5/client/utils.c
--- tdnf-3.1.5-orig/client/utils.c	2021-10-06 18:39:26.000000000 +0000
+++ tdnf-3.1.5/client/utils.c	2021-11-21 21:46:20.229391920 +0000
@@ -509,24 +509,7 @@
    )
 {
     uint32_t dwError = 0;
-    char* pszArch = NULL;
-    struct utsname stUtsName;
-
-    if(!ppszArch)
-    {
-        dwError = ERROR_TDNF_INVALID_PARAMETER;
-        BAIL_ON_TDNF_ERROR(dwError);
-    }
-    if(uname(&stUtsName) != 0)
-    {
-        dwError = errno;
-    }
-    BAIL_ON_TDNF_SYSTEM_ERROR(dwError);
-
-    dwError = TDNFAllocateString(stUtsName.machine, &pszArch);
-    BAIL_ON_TDNF_ERROR(dwError);
-
-    *ppszArch = pszArch;
+    *ppszArch = strdup("mips");
 
 cleanup:
     return dwError;
@@ -536,7 +519,6 @@
     {
         *ppszArch = NULL;
     }
-    TDNF_SAFE_FREE_MEMORY(pszArch);
     goto cleanup;
 }
 
diff -Nur tdnf-3.1.5-orig/common/utils.c tdnf-3.1.5/common/utils.c
--- tdnf-3.1.5-orig/common/utils.c	2021-10-06 18:39:26.000000000 +0000
+++ tdnf-3.1.5/common/utils.c	2021-11-21 21:46:20.263560000 +0000
@@ -586,6 +586,10 @@
     dwError = TDNFAllocateMemory(1, strlen(pszPath) + 1, (void **)&pszNormalPath);
     BAIL_ON_TDNF_ERROR(dwError);
 
+#if defined(__sgi)
+	*ppszNormalPath = strdup(pszPath);
+	return dwError;
+#endif
     q = pszNormalPath;
 
     while(*p)
diff -Nur tdnf-3.1.5-orig/etc/tdnf/tdnf.conf tdnf-3.1.5/etc/tdnf/tdnf.conf
--- tdnf-3.1.5-orig/etc/tdnf/tdnf.conf	2021-10-06 18:39:26.000000000 +0000
+++ tdnf-3.1.5/etc/tdnf/tdnf.conf	2021-11-21 21:46:20.160430560 +0000
@@ -2,5 +2,5 @@
 gpgcheck=1
 installonly_limit=3
 clean_requirements_on_remove=true
-repodir=/etc/yum.repos.d
-cachedir=/var/cache/tdnf
+repodir=/usr/sgug/etc/yum.repos.d
+cachedir=/usr/sgug/var/cache/tdnf
diff -Nur tdnf-3.1.5-orig/solv/tdnfpool.c tdnf-3.1.5/solv/tdnfpool.c
--- tdnf-3.1.5-orig/solv/tdnfpool.c	2021-10-06 18:39:26.000000000 +0000
+++ tdnf-3.1.5/solv/tdnfpool.c	2021-11-21 21:46:20.190429680 +0000
@@ -106,7 +106,7 @@
         BAIL_ON_TDNF_LIBSOLV_ERROR(dwError);
     }
 
-    pool_setarch(pPool, systemInfo.machine);
+    pool_setarch(pPool, strdup("mips"));
     pool_set_flag(pPool, POOL_FLAG_ADDFILEPROVIDESFILTERED, 1);
 
     dwError = SolvReadInstalledRpms(pPool, &pRepo, pszCacheDir);
diff -Nur tdnf-3.1.5-orig/tools/cli/lib/output.c tdnf-3.1.5/tools/cli/lib/output.c
--- tdnf-3.1.5-orig/tools/cli/lib/output.c	2021-10-06 18:39:26.000000000 +0000
+++ tdnf-3.1.5/tools/cli/lib/output.c	2021-11-21 21:48:05.330564560 +0000
@@ -21,6 +21,17 @@
 
 #include "includes.h"
 
+#ifdef __sgi
+struct winsize {
+    unsigned short ws_row;       /* rows, in characters*/
+    unsigned short ws_col;       /* columns, in character */
+    unsigned short ws_xpixel;    /* horizontal size, pixels */
+    unsigned short ws_ypixel;    /* vertical size, pixels */
+};
+
+#define TIOCGWINSZ  _IOR('t', 104, struct winsize)  /* get window size */
+#endif
+
 void
 ShowConsoleProps(
     void
diff -Nur tdnf-3.1.5-orig/tools/cli/lib/output.c.rej tdnf-3.1.5/tools/cli/lib/output.c.rej
--- tdnf-3.1.5-orig/tools/cli/lib/output.c.rej	1969-12-31 19:00:00.000000000 +0000
+++ tdnf-3.1.5/tools/cli/lib/output.c.rej	2021-11-21 21:46:20.303872400 +0000
@@ -0,0 +1,20 @@
+--- tools/cli/lib/output.c	2021-10-06 18:39:26.000000000 +0000
++++ tools/cli/lib/output.c	2021-11-21 21:45:37.803940800 +0000
+@@ -21,6 +21,17 @@
+ 
+ #include "includes.h"
+ 
++#ifdef __sgi
++struct winsize {
++    unsigned short ws_row;       /* rows, in characters*/
++    unsigned short ws_col;       /* columns, in character */
++    unsigned short ws_xpixel;    /* horizontal size, pixels */
++    unsigned short ws_ypixel;    /* vertical size, pixels */
++};
++
++#define TIOCGWINSZ  _IOR('t', 104, struct winsize)  /* get window size */
++#endif
++
+ void
+ ShowConsoleProps(
+ 
